{"mappings":"YAAA,IAAMA,EAAU,mCAEVC,EAAW,gCAA2DC,OADnD,sBACwC,aAAmBA,OAARF,GAEtEG,EAASC,MAAMH,GAClBI,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GACJ,OADcA,EAAPC,O,IAQLC,GAJQC,SAASC,cAAc,OACtBD,SAASC,cAAc,SACvBD,SAASC,cAAc,SACrBD,SAASC,cAAc,WACvBD,SAASC,cAAc,WA2CxCT,EAAOE,MAAK,SAAAQ,GACVA,EAAOC,KAAI,SAAAC,G,OACTX,MAAM,sCAAyDF,OAAnBa,EAAKC,GAAG,aAAmBd,OAARF,IAC5DK,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAY,IAMZ,SAAcA,GACZ,IAAMC,EAASD,EAAKC,OACdC,EAAQ,GACdD,EAAOE,SAAQ,SAAAC,GACbF,EAAMG,KAAKD,EAAQE,K,IAErB,IAAMC,EAASL,EAAMM,KAAK,MACpBC,EAAOT,EAAKU,aAAaC,MAAM,EAAG,GAClCC,EAAe,4CAGL3B,OAFde,EAAKa,YACN,0DAEe5B,OADAe,EAAKc,eAAe,0BACV7B,OAAVsB,EAAO,KACLtB,OADQwB,EAAK,4BACgBxB,OAA7Be,EAAKe,aAAaC,QAAQ,GAAG,QAC/CC,QAAQC,IAAIN,GACZnB,EAAS0B,mBAAmB,YAAaP,E,CApBnCQ,CAAKpB,E","sources":["src/index.js"],"sourcesContent":["const API_KEY = '1c308592d719c7668d47adc63622f209';\nconst optionsTrending = `trending/movie/week`;\nconst BASE_URL = `https://api.themoviedb.org/3/${optionsTrending}?api_key=${API_KEY}`;\n\nconst result = fetch(BASE_URL)\n  .then(response => {\n    return response.json();\n  })\n  .then(({ results }) => {\n    return results;\n  });\n\nconst imgEl = document.querySelector('img');\nconst nameEl = document.querySelector('.name');\nconst filmEl = document.querySelector('.film');\nconst numberEl = document.querySelector('.number');\nconst headerEl = document.querySelector('header');\n\n// result\n//   .then(result => {\n//     const id = result[0].id;\n//     return id;\n//   })\n//   .then(id => {\n//     fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`)\n//       .then(response => {\n//         return response.json();\n//       })\n//       .then(data => {\n//         console.log(data);\n//         imgEl.setAttribute(\n//           'src',\n//           `https://image.tmdb.org/t/p/w400${data.poster_path}`\n//         );\n//         nameEl.textContent = `${data.original_title}`;\n//         const genres = data.genres;\n//         const array = [];\n//         genres.forEach(element => {\n//           array.push(element.name);\n//         });\n//         const string = array.join(', ');\n//         const year = data.release_date;\n//         filmEl.textContent = string + ' ' + year.slice(0, 4);\n//         const vote = data.vote_average;\n//         numberEl.textContent = vote.toFixed(1);\n//       });\n//   });\n\n// function createMarkup(array) {\n//   const markup = array.map(film => {\n//     const markupString = `<img src=\"https://image.tmdb.org/t/p/w400${film.poster_path}\" alt=\"\" width=\"395\" height=\"574\" />\n// <p class=\"name\">${film.original_title}</p>\n// <p class=\"film\"></p>\n// <p class=\"number\">${film.vote_average}</p>`;\n//     return markupString;\n//   });\n//   return markup.join(' ');\n// }\n\nresult.then(result => {\n  result.map(film =>\n    fetch(`https://api.themoviedb.org/3/movie/${film.id}?api_key=${API_KEY}`)\n      .then(response => {\n        return response.json();\n      })\n      .then(film => {\n        mark(film);\n      })\n  );\n});\n\nfunction mark(film) {\n  const genres = film.genres;\n  const array = [];\n  genres.forEach(element => {\n    array.push(element.name);\n  });\n  const string = array.join(', ');\n  const year = film.release_date.slice(0, 4);\n  const markupString = `<img src=\"https://image.tmdb.org/t/p/w400${\n    film.poster_path\n  }\" alt=\"\" width=\"395\" height=\"574\" />\n<p class=\"name\">${film.original_title}</p>\n<p class=\"film\">${string} ${year}</p>\n<p class=\"number\">${film.vote_average.toFixed(1)}</p>`;\n  console.log(markupString);\n  headerEl.insertAdjacentHTML('beforeend', markupString);\n}\n"],"names":["$b8f9b7833fa37166$var$API_KEY","$b8f9b7833fa37166$var$BASE_URL","concat","$b8f9b7833fa37166$var$result","fetch","then","response","json","param","results","$b8f9b7833fa37166$var$headerEl","document","querySelector","result1","map","film1","id","film","genres","array","forEach","element","push","name","string","join","year","release_date","slice","markupString","poster_path","original_title","vote_average","toFixed","console","log","insertAdjacentHTML","$b8f9b7833fa37166$var$mark"],"version":3,"file":"index.cc1d9353.js.map"}